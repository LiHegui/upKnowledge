import{_ as s,e as n,f as e,o as t}from"./app-BeRZjn83.js";const l={};function p(i,a){return t(),n("div",null,a[0]||(a[0]=[e(`<h2 id="graphql" tabindex="-1"><a class="header-anchor" href="#graphql"><span>GraphQL</span></a></h2><ul><li>GraphQL是一种数据查询语言，是REST API的替代品。</li><li></li></ul><p><a href="https://graphql.org/code/#javascript" target="_blank" rel="noopener noreferrer">GraphQL官网</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> graphql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>特点</strong></p><ul><li>请求需要的数据，不多不少</li><li>获取多个资源，只用一个请求</li><li>描述所有可能类型的系统，便于维护，根据需求平滑演进，添加或者隐藏字段 <ol><li>graphql可以获取多个资源。</li></ol></li></ul><h2 id="页面查询-pagequery" tabindex="-1"><a class="header-anchor" href="#页面查询-pagequery"><span>页面查询（pageQuery）</span></a></h2><p>每页可以有一个页面查询,它可以将 GraphQL 参数用作查询中的变量（此处是跟静态查询的一点区别）</p><blockquote><p>页面是通过文件夹中的任何 React 组件创建的，或者src/pages通过调用操作createPage生成的。pageQuery不能在任何组件（不满足前提）中使用</p></blockquote><h2 id="查询结构" tabindex="-1"><a class="header-anchor" href="#查询结构"><span>查询结构</span></a></h2><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h2><h3 id="usestaticquery" tabindex="-1"><a class="header-anchor" href="#usestaticquery"><span>useStaticQuery</span></a></h3><blockquote><p>useStaticQuery提供在构建时使用React Hook查询 Gatsby 的 GraphQL 数据层的能力。它允许您的 React 组件通过 GraphQL 查询检索数据，该查询将被解析、评估并注入到组件中。</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useStaticQuery<span class="token punctuation">,</span> graphql <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;gatsby&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useStaticQuery</span><span class="token punctuation">(</span>graphql<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">    query HeaderQuery {</span>
<span class="line">        ...</span>
<span class="line">    }</span>
<span class="line">  </span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>data<span class="token operator">...</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>限制:useStaticQuery必须在嵌套在站点顶级src目录下的文件中使用</strong></p><h3 id="页面查询和静态查询的区别" tabindex="-1"><a class="header-anchor" href="#页面查询和静态查询的区别"><span>页面查询和静态查询的区别</span></a></h3><blockquote><p>静态查询在很多方面与 Gatsby 页面查询不同。对于页面，Gatsby 能够处理带有变量的查询，因为它了解页面上下文。但页面查询只能在顶级页面组件中进行。 相反，静态查询不带变量。这是因为静态查询在特定组件内部使用，并且可能出现在组件树的较低位置。使用静态查询获取的数据不会是动态的（即它们不能使用变量，因此称为“静态”查询），但可以在组件树中的任何级别调用它们。 因此，静态查询具有以下限制： useStaticQuery不接受变量（因此称为“静态”），但可以在任何组件中使用，包括页面 由于查询当前在 Gatsby 中的工作方式，Gatsby 仅支持useStaticQuery文件中的单个实例</p></blockquote><h2 id="推荐文章" tabindex="-1"><a class="header-anchor" href="#推荐文章"><span>推荐文章</span></a></h2><p><a href="https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/" target="_blank" rel="noopener noreferrer">官方文档</a></p>`,19)]))}const o=s(l,[["render",p],["__file","GraphQL.html.vue"]]),c=JSON.parse('{"path":"/tools/repository/Gastby/GraphQL.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"GraphQL","slug":"graphql","link":"#graphql","children":[]},{"level":2,"title":"页面查询（pageQuery）","slug":"页面查询-pagequery","link":"#页面查询-pagequery","children":[]},{"level":2,"title":"查询结构","slug":"查询结构","link":"#查询结构","children":[]},{"level":2,"title":"API","slug":"api","link":"#api","children":[{"level":3,"title":"useStaticQuery","slug":"usestaticquery","link":"#usestaticquery","children":[]},{"level":3,"title":"页面查询和静态查询的区别","slug":"页面查询和静态查询的区别","link":"#页面查询和静态查询的区别","children":[]}]},{"level":2,"title":"推荐文章","slug":"推荐文章","link":"#推荐文章","children":[]}],"git":{"updatedTime":1738722167000,"contributors":[{"name":"LiHegui","username":"LiHegui","email":"1487647822@qq.com","commits":1,"url":"https://github.com/LiHegui"}]},"filePathRelative":"tools/repository/Gastby/GraphQL.md"}');export{o as comp,c as data};
