import{_ as n,e as a,f as e,o as t}from"./app-BeRZjn83.js";const p={};function l(i,s){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="gatsby-source-filesystem" tabindex="-1"><a class="header-anchor" href="#gatsby-source-filesystem"><span>gatsby-source-filesystem</span></a></h1><blockquote><p>一个Gatsby插件，用于将数据文件从本地文件系统获取到Gatsby应用程序中。 该插件File从文件创建节点。各种转换器插件可以将File节点转换为其他类型的数据，例如gatsby-transformer-json将 JSON 文件转换为JSON节点并将gatsby-transformer-remarkmarkdown 文件转换为MarkdownRemark节点。</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> gatsby-source-filesystem</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><p>在gatsby.config.js中(摘自官网)</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gatsby-source-filesystem</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// The unique name for each instance</span></span>
<span class="line">        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">pages</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token comment">// Path to the directory</span></span>
<span class="line">        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/src/pages/</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">gatsby-source-filesystem</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">data</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>__dirname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/src/data/</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token comment">// Ignore files starting with a dot</span></span>
<span class="line">        <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">**/\\.*</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token comment">// Use &quot;mtime&quot; and &quot;inode&quot; to fingerprint files (to check if file has changed)</span></span>
<span class="line">        <span class="token literal-property property">fastHash</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>部分解释</strong> name (required) --&gt; File该名称也将是名为上的键 sourceInstanceName</p><p>path (required) --&gt; 来源文件夹的路径。理想情况下是绝对路径</p><p>示例</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">allFile</span><span class="token punctuation">(</span>filter<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">sourceInstanceName</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">eq</span><span class="token operator">:</span> <span class="token string">&quot;data&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// 对应上面的name -&gt; sourceInstance</span></span>
<span class="line">    nodes <span class="token punctuation">{</span></span>
<span class="line">      extension</span>
<span class="line">      dir</span>
<span class="line">      modifiedTime</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="快速哈希" tabindex="-1"><a class="header-anchor" href="#快速哈希"><span>快速哈希</span></a></h2><p>默认情况下，为gatsby-source-filesystem每个文件创建 MD5 哈希值，以确定文件在来源之间是否已更改。但是，在具有许多大文件的站点上，这可能会导致速度显着减慢。因此，您可以启用该fastHash设置以使用替代哈希机制。</p><p><strong>fastHash</strong> 默认不启用，有缺陷</p><h2 id="createfilepath、createremotefilenode、createfilenodefrombuffer" tabindex="-1"><a class="header-anchor" href="#createfilepath、createremotefilenode、createfilenodefrombuffer"><span>createFilePath、createRemoteFileNode、createFileNodeFromBuffer</span></a></h2><p>gatsby-souece-filesystem 可以导出三个复制函数</p><ol><li><p>createFilePath</p><p>当从文件构建页面时，您通常希望从文件系统上的文件路径创建 URL</p></li><li><p>createRemoteFileNode</p><p>帮助程序可以轻松下载远程文件并将其添加到站点的 GraphQL 架构中</p></li><li><p>createFileNodeFromBuffer</p><p>当处理尚未存储在文件中的数据时，例如从数据库查询二进制/blob 字段时，将该数据缓存到文件系统会很有帮助，以便将其与接受文件作为输入的其他转换器一起使用。</p></li></ol>`,16)]))}const c=n(p,[["render",l],["__file","gatsby-source-filesystem.html.vue"]]),r=JSON.parse('{"path":"/tools/repository/Gastby/plugins/gatsby-source-filesystem.html","title":"gatsby-source-filesystem","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"配置","slug":"配置","link":"#配置","children":[]},{"level":2,"title":"快速哈希","slug":"快速哈希","link":"#快速哈希","children":[]},{"level":2,"title":"createFilePath、createRemoteFileNode、createFileNodeFromBuffer","slug":"createfilepath、createremotefilenode、createfilenodefrombuffer","link":"#createfilepath、createremotefilenode、createfilenodefrombuffer","children":[]}],"git":{"updatedTime":1738722167000,"contributors":[{"name":"LiHegui","username":"LiHegui","email":"1487647822@qq.com","commits":1,"url":"https://github.com/LiHegui"}]},"filePathRelative":"tools/repository/Gastby/plugins/gatsby-source-filesystem.md"}');export{c as comp,r as data};
