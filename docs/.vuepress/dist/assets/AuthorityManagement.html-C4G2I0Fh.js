import{_ as s,c as a,a as e,o as p}from"./app-DPjPDnzl.js";const t="/upKnowledge/assets/route_control-Cdv08GLR.png",i={};function l(o,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h2 id="权限管理" tabindex="-1"><a class="header-anchor" href="#权限管理"><span>权限管理</span></a></h2><h2 id="路由权限方案" tabindex="-1"><a class="header-anchor" href="#路由权限方案"><span>路由权限方案</span></a></h2><h3 id="route-meta-permission" tabindex="-1"><a class="header-anchor" href="#route-meta-permission"><span>route &gt; meta &gt; permission</span></a></h3><p>可以在路由中设置</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/admin&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">component</span><span class="token operator">:</span> AdminComponent<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">permission</span><span class="token operator">:</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/user&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">component</span><span class="token operator">:</span> UserComponent<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">permission</span><span class="token operator">:</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以路由守卫中进行统一权限验证</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> requiredPermission <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>permission<span class="token punctuation">;</span> <span class="token comment">// 获取路由配置中的权限要求</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>requiredPermission<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果当前路由配置了权限要求</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>currentUserPermissions<span class="token punctuation">,</span> requiredPermission<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// 用户具有所需权限</span></span>
<span class="line">      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// 用户没有所需权限，可以进行重定向或其他操作</span></span>
<span class="line">      <span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&#39;/login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 路由没有配置权限要求，直接通过</span></span>
<span class="line">    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整路线" tabindex="-1"><a class="header-anchor" href="#完整路线"><span>完整路线</span></a></h3><p><img src="`+t+'" alt="Alt text"></p><h2 id="按钮级别权限方案" tabindex="-1"><a class="header-anchor" href="#按钮级别权限方案"><span>按钮级别权限方案</span></a></h2><h3 id="v-permission" tabindex="-1"><a class="header-anchor" href="#v-permission"><span>v-permission</span></a></h3><h2 id="登录注册权限方案" tabindex="-1"><a class="header-anchor" href="#登录注册权限方案"><span>登录注册权限方案</span></a></h2><p>一般情况下</p>',13)]))}const r=s(i,[["render",l],["__file","AuthorityManagement.html.vue"]]),u=JSON.parse('{"path":"/repository/Vue/AuthorityManagement.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"权限管理","slug":"权限管理","link":"#权限管理","children":[]},{"level":2,"title":"路由权限方案","slug":"路由权限方案","link":"#路由权限方案","children":[{"level":3,"title":"route > meta > permission","slug":"route-meta-permission","link":"#route-meta-permission","children":[]},{"level":3,"title":"完整路线","slug":"完整路线","link":"#完整路线","children":[]}]},{"level":2,"title":"按钮级别权限方案","slug":"按钮级别权限方案","link":"#按钮级别权限方案","children":[{"level":3,"title":"v-permission","slug":"v-permission","link":"#v-permission","children":[]}]},{"level":2,"title":"登录注册权限方案","slug":"登录注册权限方案","link":"#登录注册权限方案","children":[]}],"git":{"updatedTime":1738722167000,"contributors":[{"name":"LiHegui","username":"LiHegui","email":"1487647822@qq.com","commits":1,"url":"https://github.com/LiHegui"}]},"filePathRelative":"repository/Vue/AuthorityManagement.md"}');export{r as comp,u as data};
