import{_ as c,c as o,a,b as n,d as e,e as t,f as r,r as p,o as u}from"./app-DPjPDnzl.js";const d="/upKnowledge/assets/render-BcQA-m3J.png",k={},v={start:"2"},m={id:"react-é«˜é˜¶ç»„ä»¶",tabindex:"-1"},h={class:"header-anchor",href:"#react-é«˜é˜¶ç»„ä»¶"};function b(g,s){const l=p("App"),i=p("RouteLink");return u(),o("div",null,[s[3]||(s[3]=a(`<h1 id="reacté¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#reacté¢è¯•é¢˜"><span>Reacté¢è¯•é¢˜</span></a></h1><h2 id="è°ˆè°ˆä½ å¯¹reactçš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#è°ˆè°ˆä½ å¯¹reactçš„ç†è§£"><span>è°ˆè°ˆä½ å¯¹Reactçš„ç†è§£</span></a></h2><p>Reactæ˜¯æ„å»ºç”¨æˆ·ç•Œé¢çš„JavaScriptåº“ï¼Œåªæä¾›äº†UIå±‚é¢çš„è§£å†³æ–¹æ¡ˆ</p><p>ç‰¹ç‚¹ï¼š</p><ul><li><p>JSXçš„è¯­æ³•</p></li><li><p>å•å‘æ•°æ®ç»‘å®š é€Ÿåº¦æ›´å¿«</p></li><li><p>è™šæ‹ŸDOM</p></li><li><p>å£°æ˜å¼ç¼–ç¨‹</p></li><li><p>component æ›´æ³¨é‡æŠ½ç¦»å’Œç»„ä»¶åŒ– ç»„ä»¶å¼å¼€å‘ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ åº”è¯¥å…·æœ‰çš„ç‰¹ç‚¹ï¼šå¯ç»„åˆï¼Œå¯é‡ç”¨ï¼Œå¯ç»´æŠ¤</p></li></ul><h2 id="jsxè½¬æˆçœŸå®domçš„è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#jsxè½¬æˆçœŸå®domçš„è¿‡ç¨‹"><span>JSXè½¬æˆçœŸå®DOMçš„è¿‡ç¨‹</span></a></h2><p>JSXæ˜¯JavaScriptçš„ä¸€ç§è¯­æ³•æ‹“å±•ï¼Œå®ƒå’Œæ¨¡æ¿è¯­è¨€å¾ˆåƒï¼Œä½†æ˜¯å®ƒå…·å¤‡å……åˆ†çš„JavaScriptçš„èƒ½åŠ›</p><p>ç»è¿‡babelçš„å¤„ç†</p><ol><li>JSX ä¼šè¢«ç¼–è¯‘ä¸ºReact.createElement(), React.createElement()å°†ä¼šè¿”å›ä¸€ä¸ªå«åšReact Elementçš„JSå¯¹è±¡ è¿™é‡Œçš„ç¼–è¯‘å°±æ˜¯æŒ‡babel</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line">* React.createElement</span>
<span class="line">* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">type</span> ç”¨äºæ ‡è¯†èŠ‚ç‚¹çš„ç±»å‹</span>
<span class="line">* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">config</span> ä»¥å¯¹è±¡å½¢å¼ä¼ å…¥ï¼Œç»„ä»¶æ‰€æœ‰çš„å±æ€§éƒ½ä¼šä»¥é”®å€¼å¯¹çš„å½¢å¼å‚¨å­˜åˆ°conigå¯¹è±¡ä¸­</span>
<span class="line">* <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">}</span></span> <span class="token parameter">children</span> ä»¥å¯¹è±¡çš„å½¢å¼ä¼ å…¥ï¼Œï¼Œå®ƒè®°å½•çš„æ˜¯ç»„ä»¶æ ‡ç­¾ä¹‹é—´çš„åµŒå¥—çš„å†…å®¹</span>
<span class="line">*/</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> config<span class="token punctuation">,</span> children</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token operator">...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ”¨ demo</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">ClassComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>     <span class="token comment">// ç±»å¼ç»„ä»¶</span></span>
<span class="line">  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;pink&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;border&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>ClassComponent<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>color<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p <span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">FunctionComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// å‡½æ•°å¼ç»„ä»¶</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;border&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">      FunctionComponent</span>
<span class="line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p <span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> jsx <span class="token operator">=</span> <span class="token punctuation">(</span>                        </span>
<span class="line">  <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;border&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>xx<span class="token operator">&lt;</span><span class="token operator">/</span>p <span class="token operator">&gt;</span>                   </span>
<span class="line">    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span><span class="token operator">&gt;</span>xxx<span class="token operator">&lt;</span><span class="token operator">/</span> a<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>FunctionComponent name<span class="token operator">=</span><span class="token string">&quot;å‡½æ•°ç»„ä»¶&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>ClassComponent name<span class="token operator">=</span><span class="token string">&quot;ç±»ç»„ä»¶&quot;</span> color<span class="token operator">=</span><span class="token string">&quot;red&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œå€¼å¾—æ³¨æ„çš„æ˜¯</p><p>JSX -&gt; babel -&gt; React.createElement -&gt; ReactElement -&gt; è™šæ‹ŸDOM -&gt;ReactDoM.render() -&gt; çœŸå®DOM</p><p>åœ¨è½¬åŒ–è¿‡ç¨‹ä¸­ï¼Œbabelåœ¨ç¼–è¯‘æ—¶ä¼šåˆ¤æ–­ JSX ä¸­ç»„ä»¶çš„é¦–å­—æ¯ï¼š</p><p>å½“é¦–å­—æ¯ä¸ºå°å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºåŸç”Ÿ DOM æ ‡ç­¾ï¼ŒcreateElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå­—ç¬¦ä¸²</p><p>å½“é¦–å­—æ¯ä¸ºå¤§å†™æ—¶ï¼Œå…¶è¢«è®¤å®šä¸ºè‡ªå®šä¹‰ç»„ä»¶ï¼ŒcreateElement çš„ç¬¬ä¸€ä¸ªå˜é‡è¢«ç¼–è¯‘ä¸ºå¯¹è±¡</p><p>React.createElementå…¶è¢«è°ƒç”¨æ—¶ä¼šä¼ â¼Šæ ‡ç­¾ç±»å‹typeï¼Œæ ‡ç­¾å±æ€§propsåŠè‹¥å¹²å­å…ƒç´ children</p>`,18)),n("ol",v,[n("li",null,[s[0]||(s[0]=e("æœ€åï¼ŒReact.renderä¼šå°†React Elementå¯¹è±¡æ¸²æŸ“åˆ°çœŸå®çš„DOM æœ€åå°±æ˜¯æŒ‚è½½æŸä¸ªèŠ‚ç‚¹ä¸Š ReactDOM.render(")),t(l),s[1]||(s[1]=e(', document.getElementById("root"));'))])]),s[4]||(s[4]=a(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token comment">// éœ€è¦æ¸²æŸ“çš„å…ƒç´ (ReactElement)</span></span>
<span class="line">  element<span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// å…ƒç´ æŒ‚è½½çš„ç›®æ ‡å®¹å™¨</span></span>
<span class="line">  container<span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// å›è°ƒå‡½æ•°ï¼Œ å¯é€‰å‚æ•°ï¼Œï¼Œ å¯ä»¥ç”¨æ¥å¤„ç†æ¸²æŸ“ç»“æŸåçš„é€»è¾‘</span></span>
<span class="line">  callback</span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•´ä¸ªæµç¨‹å›¾è§£</p><p><img src="`+d+`" alt=""></p><h2 id="react-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#react-ç”Ÿå‘½å‘¨æœŸ"><span>React ç”Ÿå‘½å‘¨æœŸ</span></a></h2><p>ç»„ä»¶åˆå§‹åŒ– -&gt; renderæ–¹æ³•</p><p>æ¸²æŸ“å·¥ä½œæµ æŒ‡çš„æ˜¯ä»ç»„ä»¶æ•°æ®æ”¹å˜åˆ°ç»„ä»¶å®é™…æ›´æ–°å‘ç”Ÿçš„è¿‡ç¨‹</p><p>React15</p><p>æŒ‚è½½ -&gt; æ›´æ–° -&gt; å¸è½½</p><ul><li>constructor()</li><li>componentWillReceiveProps() çˆ¶ç»„ä»¶è§¦å‘æ›´æ–°æ—¶è§¦å‘ï¼ˆä¸ä¸€å®šæ˜¯ç›¸å…³çš„propsï¼‰</li><li>componentWillUnmount ç»„ä»¶å¸è½½æ—¶è§¦å‘ï¼ˆç»„ä»¶è¢«ç§»é™¤ ï¼‰</li></ul><p>React16</p><p>åºŸå¼ƒäº†componentWillMount</p><ul><li>getDerivedStateFromProps, æ›¿ä»£compponentWillReceiveProps ä½¿ç”¨Propsæ¥æ´¾ç”Ÿ/æ›´æ–°state åœ¨æ›´æ–°å’ŒæŒ‚è½½ä¸¤ä¸ªé˜¶æ®µéƒ½ä¼šè§¦å‘</li></ul><h2 id="è¯´è¯´-real-dom-å’Œ-virtual-dom-çš„åŒºåˆ«-ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´-real-dom-å’Œ-virtual-dom-çš„åŒºåˆ«-ä¼˜ç¼ºç‚¹"><span>è¯´è¯´ Real DOM å’Œ Virtual DOM çš„åŒºåˆ«ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ</span></a></h2><p>è™šæ‹ŸDOM</p><p>ç»„ä»¶æ›´æ–° -&gt; renderæ–¹æ³• -&gt; ç”Ÿæˆæ–°çš„è™šæ‹ŸDOM -&gt; diffç®—æ³• -&gt; å®šä½ä¸¤æ¬¡çš„å·®å¼‚ -&gt; æ¸²æŸ“çœŸå®DOM</p><h2 id="userefå’Œusestateçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#userefå’Œusestateçš„åŒºåˆ«"><span>useRefå’ŒuseStateçš„åŒºåˆ«</span></a></h2><ul><li><p>useRef</p><ul><li>è·å–å…ƒç´  useRef è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡</li><li>ä¿å­˜å˜é‡</li></ul></li><li><p>useState ä½¿ç”¨, è¿”å›ä¸¤ä¸ªå€¼ï¼Œstateï¼Œå’Œæ›´æ–°å‡½æ•°</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h2 id="è¯´è¯´å¯¹reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´å¯¹reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>è¯´è¯´å¯¹Reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h2><h2 id="ç±»å¼ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ç±»å¼ç»„ä»¶"><span>ç±»å¼ç»„ä»¶</span></a></h2><h2 id="å‡½æ•°å¼ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å¼ç»„ä»¶"><span>å‡½æ•°å¼ç»„ä»¶</span></a></h2><h2 id="è¯´è¯´å¯¹react-hooksçš„ç†è§£-è§£å†³äº†ä»€ä¹ˆé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´å¯¹react-hooksçš„ç†è§£-è§£å†³äº†ä»€ä¹ˆé—®é¢˜"><span>è¯´è¯´å¯¹React Hooksçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></h2><p>è§£å†³å‡½æ•°ç»„ä»¶åŸä¸ºæ— çŠ¶æ€ç»„ä»¶ï¼Œæˆä¸ºå†…éƒ¨å¯ä»¥è¿›è¡Œç»´æŠ¤è‡ªèº«çŠ¶æ€</p><ul><li><p>useState</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> setState<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ³¨æ„ï¼š</p><ol><li>initialState: ä½ å¸Œæœ› state åˆå§‹åŒ–çš„å€¼ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ï¼Œä½†å¯¹äºå‡½æ•°æœ‰ç‰¹æ®Šçš„è¡Œä¸ºã€‚åœ¨åˆå§‹æ¸²æŸ“åï¼Œæ­¤å‚æ•°å°†è¢«å¿½ç•¥</li><li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒReactå°†ä¸¤æ¬¡è°ƒç”¨åˆå§‹åŒ–å‡½æ•°ï¼Œ</li><li>setå‡½æ•°ä»…æ›´æ–°ä¸‹ä¸€æ¬¡çš„æ¸²æŸ“çš„çŠ¶æ€å˜é‡ã€‚å¦‚æœåœ¨è°ƒç”¨setå‡½æ•°åè¯»å–çŠ¶æ€å˜é‡ã€‚å¦‚æœåœ¨è°ƒç”¨ set å‡½æ•°åè¯»å–çŠ¶æ€å˜é‡ï¼Œåˆ™ ä»ä¼šå¾—åˆ°åœ¨è°ƒç”¨ä¹‹å‰æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„æ—§å€¼ã€‚å¦‚æœä½ æä¾›çš„æ–°å€¼ä¸å½“å‰ state ç›¸åŒï¼ˆç”± Object.is æ¯”è¾ƒç¡®å®šï¼‰ï¼ŒReact å°† è·³è¿‡é‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶åŠå…¶å­ç»„ä»¶ã€‚React ä¼š æ‰¹é‡å¤„ç†çŠ¶æ€æ›´æ–°ã€‚å®ƒä¼šåœ¨æ‰€æœ‰ äº‹ä»¶å¤„ç†å‡½æ•°è¿è¡Œ å¹¶è°ƒç”¨å…¶ set å‡½æ•°åæ›´æ–°å±å¹•ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨å•ä¸ªäº‹ä»¶æœŸé—´å¤šæ¬¡é‡æ–°æ¸²æŸ“ã€‚</li><li>flushSync å…è®¸ä½ å¼ºåˆ¶ React åœ¨æä¾›çš„å›è°ƒå‡½æ•°å†…åŒæ­¥åˆ·æ–°ä»»ä½•æ›´æ–°ï¼Œè¿™å°†ç¡®ä¿ DOM ç«‹å³æ›´æ–° React ä¼šå­˜å‚¨æ–°çŠ¶æ€ï¼Œä½¿ç”¨æ–°å€¼é‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œå¹¶æ›´æ–° UI è°ƒç”¨ set å‡½æ•° ä¸ä¼š æ”¹å˜å·²ç»æ‰§è¡Œçš„ä»£ç ä¸­å½“å‰çš„ state ï¼ˆæœ‰ä¸€ç§å¼‚æ­¥çš„æ„Ÿè§‰ï¼‰ - <strong>è§£å†³åŠæ³•</strong>ï¼š ä½ å¯ä»¥å‘ setå‡½æ•°ä¸­ä¼ é€’ä¸€ä¸ª æ›´æ–°å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸‹ä¸€ä¸ªçŠ¶æ€</li></ol><p>æ›´æ–°çŠ¶æ€ä¸­çš„å¯¹è±¡å’Œæ•°ç»„ å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡æ¥æ›¿æ¢æ•´ä¸ªå¯¹è±¡</p></li><li><p>useRef å¼•å…¥ä¸€ä¸ªä¸éœ€è¦æ¸²æŸ“çš„å€¼</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> ref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>initialValueï¼šref å¯¹è±¡çš„ current å±æ€§çš„åˆå§‹å€¼ã€‚å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å€¼ã€‚è¿™ä¸ªå‚æ•°åœ¨é¦–æ¬¡æ¸²æŸ“åè¢«å¿½ç•¥ã€‚</p><blockquote><p>useRefè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œref.currentä¸ºinitialValue. æ”¹å˜ ref.current å±æ€§æ—¶ï¼ŒReact ä¸ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ React ä¸çŸ¥é“å®ƒä½•æ—¶ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› ä¸º ref æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ã€‚</p></blockquote><ol><li>ä½¿ç”¨ useRef å£°æ˜ refã€‚ä½ å¯ä»¥åœ¨å…¶ä¸­ä¿å­˜ä»»ä½•å€¼ï¼Œä½†æœ€å¸¸ç”¨äºä¿å­˜ DOM èŠ‚ç‚¹ã€‚</li><li>ä½¿ç”¨ç”¨ ref å¼•ç”¨ä¸€ä¸ªå€¼</li></ol><ul><li>å¯ä»¥åœ¨é‡æ–°æ¸²æŸ“ä¹‹é—´ å­˜å‚¨ä¿¡æ¯</li><li>å¯ä»¥åœ¨é‡æ–°æ¸²æŸ“ä¹‹é—´ å­˜å‚¨ä¿¡æ¯</li><li></li></ul><p>æ³¨æ„ï¼šæ”¹å˜refä¸ä¼šè§¦å‘æ¸²æŸ“ï¼Œ</p></li><li><p>useEffect</p></li><li><p>useContext useContext, å¯ä»¥è®©ä½ è¯»å–å’Œè®¢é˜…ç»„ä»¶ä¸­çš„context</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token function">useContext</span><span class="token punctuation">(</span>SomeContext<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>SomeContextï¼šå…ˆå‰ç”¨ createContext åˆ›å»ºçš„ contextã€‚context æœ¬èº«ä¸åŒ…å«ä¿¡æ¯ï¼Œå®ƒåªä»£è¡¨ä½ å¯ä»¥æä¾›æˆ–ä»ç»„ä»¶ä¸­è¯»å–çš„ä¿¡æ¯ç±»å‹ã€‚ <strong>ç”¨æ³•ï¼š</strong></p><ul><li>å‘ç»„ä»¶æ·±å¤„ä¼ é€’æ•°æ®</li><li>é€šè¿‡contextæ›´æ–°ä¼ é€’çš„æ•°æ®</li></ul></li><li><p>useCallback</p></li><li><p>useReducer åœ¨ç»„ä»¶çš„é¡¶å±‚ä½œç”¨åŸŸè°ƒç”¨ useReducer ä»¥åˆ›å»ºä¸€ä¸ªç”¨äºç®¡ç†çŠ¶æ€çš„ reducerã€‚</p></li></ul><h2 id="state-å’Œ-props-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#state-å’Œ-props-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>state å’Œ props æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h2><ul><li>state stateæ˜¯ç”¨æ¥ä¿å­˜ç»„ä»¶çŠ¶æ€ã€æ§åˆ¶ä»¥åŠä¿®æ”¹è‡ªå·±çŠ¶æ€ã€‚ å¤–éƒ¨ä¸å¯è®¿é—®ï¼Œå¯ä»¥è¯´æ˜¯ç»„ä»¶ç§æœ‰å±æ€§</li><li>props æ˜¯ä¼ é€’ç»™ç»„ä»¶çš„ï¼ˆç±»ä¼¼äºå‡½æ•°çš„ä¼ å‚ï¼‰ï¼Œåªè¯»ä¸å¯æ”¹</li></ul><h2 id="ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯props" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯props"><span>ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯Props</span></a></h2><p>Reactä¸ºæˆ‘ä»¬æä¾›äº†PropTypesä»¥ä¾›éªŒè¯ä½¿ç”¨ã€‚å¦‚æœä½¿ç”¨typescripté‚£ä¹ˆå°±å¯ä»¥ç›´æ¥ç”¨æ¥å£æ¥å®šä¹‰ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> propTypes <span class="token keyword">from</span> <span class="token string">&#39;prop-types&#39;</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">State</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">            </span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">State<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> propTypes<span class="token punctuation">.</span>string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> State<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="super-å’Œ-super-props-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#super-å’Œ-super-props-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>super() å’Œ super(props) æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h1><p>super()å’Œsuper(props)éƒ½æ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°çš„è¯­å¥ã€‚</p><ul><li>super() ä¼šè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å¹¶å°†thisç»‘å®šåˆ°å­ç±»çš„å®ä¾‹ã€‚å¦‚æœå­ç±»çš„æ„é€ å‡½æ•°ä¸­ æ²¡æœ‰ä½¿ç”¨this,åˆ™å¯ä»¥çœç•¥superè°ƒç”¨</li><li>super(props) åˆ™æ˜¯åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†propså¯¹è±¡å‡ºä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚ propså¯¹è±¡ä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿åœ¨ç»„ä»¶ä¸­ä½¿ç”¨this.propsè®¿é—®å®ƒã€‚</li></ul><h2 id="super" tabindex="-1"><a class="header-anchor" href="#super"><span>super</span></a></h2><p>åœ¨JavaScriptä¸­ï¼Œsuperæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºè°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚</p><ul><li>å½“å­ç±»ç»§æ‰¿çˆ¶ç±»æ—¶ï¼Œå­ç±»å¿…é¡»ä½¿ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚åœ¨ constructor æ–¹æ³•ä¸­ï¼Œä½¿ç”¨ super è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ this å…³é”®å­—è®¿é—®å­ç±»çš„å±æ€§å’Œæ–¹æ³•</li></ul><h1 id="è¯´è¯´-reactä¸­çš„setstateæ‰§è¡Œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´-reactä¸­çš„setstateæ‰§è¡Œæœºåˆ¶"><span>è¯´è¯´ Reactä¸­çš„setStateæ‰§è¡Œæœºåˆ¶</span></a></h1><p>ç±»å¼ç»„ä»¶ä¸­æœ‰setStateæœºåˆ¶</p><ul><li>ç»„ä»¶ä¸­å¤šæ¬¡è°ƒç”¨setState()ï¼Œä¼šè¿›è¡Œåˆå¹¶ï¼Œç»„ä»¶åªæ‰§è¡Œä¸€æ¬¡æ›´æ–°æ“ä½œ</li><li>æµç¨‹ 1.å°†setStateä¼ å…¥çš„partialStateå‚æ•°å­˜å‚¨åœ¨å½“å‰ç»„ä»¶å®ä¾‹çš„stateæš‚å­˜é˜Ÿåˆ—ä¸­ã€‚ 2.åˆ¤æ–­å½“å‰Reactæ˜¯å¦å¤„äºæ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œå°†å½“å‰ç»„ä»¶åŠ å…¥å¾…æ›´æ–°çš„ç»„ä»¶é˜Ÿåˆ—ä¸­ã€‚ 3.å¦‚æœæœªå¤„äºæ‰¹é‡æ›´æ–°çŠ¶æ€ï¼Œå°†æ‰¹é‡æ›´æ–°çŠ¶æ€æ ‡è¯†è®¾ç½®ä¸ºtrueï¼Œç”¨äº‹åŠ¡å†æ¬¡è°ƒç”¨å‰ä¸€æ­¥æ–¹æ³•ï¼Œä¿è¯å½“å‰ç»„ä»¶åŠ å…¥åˆ°äº†å¾…æ›´æ–°ç»„ä»¶é˜Ÿåˆ—ä¸­ã€‚ 4.è°ƒç”¨äº‹åŠ¡çš„waperæ–¹æ³•ï¼Œéå†å¾…æ›´æ–°ç»„ä»¶é˜Ÿåˆ—ä¾æ¬¡æ‰§è¡Œæ›´æ–°ã€‚ 5.æ‰§è¡Œç”Ÿå‘½å‘¨æœŸcomponentWillReceivePropsã€‚ 6.å°†ç»„ä»¶çš„stateæš‚å­˜é˜Ÿåˆ—ä¸­çš„stateè¿›è¡Œåˆå¹¶ï¼Œè·å¾—æœ€ç»ˆè¦æ›´æ–°çš„stateå¯¹è±¡ï¼Œå¹¶å°†é˜Ÿåˆ—ç½®ä¸ºç©ºã€‚ 7.æ‰§è¡Œç”Ÿå‘½å‘¨æœŸcomponentShouldUpdateï¼Œæ ¹æ®è¿”å›å€¼åˆ¤æ–­æ˜¯å¦è¦ç»§ç»­æ›´æ–°ã€‚ 8.æ‰§è¡Œç”Ÿå‘½å‘¨æœŸcomponentWillUpdateã€‚ 9.æ‰§è¡ŒçœŸæ­£çš„æ›´æ–°ï¼Œrenderã€‚ 10.æ‰§è¡Œç”Ÿå‘½å‘¨æœŸcomponentDidUpdate</li></ul><h2 id="setstateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#setstateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥"><span>setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼Ÿ</span></a></h2><p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹setStateè¿‡ç¨‹ ä»£ç ä¸­è°ƒç”¨äº†setStateå‡½æ•°ä¹‹åï¼ŒReactä¼šå°†ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸ç»„ä»¶è¿›è¡Œåˆå¹¶ã€‚ç„¶åè§¦å‘è°ƒå’Œè¿‡ç¨‹ã€‚ç»è¿‡è°ƒå’Œè¿‡ç¨‹ï¼Œ Reactä¼šä»¥ç›¸å¯¹é«˜æ•ˆçš„æ–¹å¼æ ¹æ®æ–°çš„çŠ¶æ€æ„å»ºReactå…ƒç´ æ ‘ï¼Œå¹¶ä¸”ç€æ‰‹é‡æ–°æ¸²æŸ“æ•´ä¸ªUIç•Œé¢ã€‚</p><ul><li>setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ setStateå¹¶ä¸æ˜¯å•çº¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Œå…·ä½“æƒ…å†µå…·ä½“åˆ†æ <ul><li>stateå®Œå…¨æ›¿æ¢</li><li>Reactæ§åˆ¶ä¸åˆ°çš„åœ°æ–¹ï¼Œæ¯”å¦‚åŸç”Ÿäº‹ä»¶</li></ul></li></ul><h2 id="setstateä¸€å®šä¼šåˆå¹¶å—" tabindex="-1"><a class="header-anchor" href="#setstateä¸€å®šä¼šåˆå¹¶å—"><span>setStateä¸€å®šä¼šåˆå¹¶å—</span></a></h2><p>å…¶å®ä¸ç„¶ï¼Œå®Œå…¨æ›¿æ¢çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå¹¶ã€‚åˆå¹¶åªæ˜¯ä¸€ç§ä¼˜åŒ–ç­–ç•¥ã€‚</p>`,42)),n("h2",m,[n("a",h,[n("span",null,[t(i,{to:"/interview/React/%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6.html"},{default:r(()=>s[2]||(s[2]=[e("React é«˜é˜¶ç»„ä»¶")])),_:1})])])]),s[5]||(s[5]=a(`<h2 id="react-hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#react-hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›"><span>React Hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›ï¼Ÿ</span></a></h2><h2 id="react-fiberæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨" tabindex="-1"><a class="header-anchor" href="#react-fiberæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨"><span>React fiberæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></a></h2><p>Fiberä¼šå°†ä¸€ä¸ªé¢å¤§çš„æ›´æ–°ä»»åŠ¡æ‹†è§£ä¸ºè®¸å¤šä¸ªå°ä»»åŠ¡</p><p>Fiberæ¶æ„çš„é‡è¦ç‰¹å¾å°±æ˜¯å¯ä»¥è¢«æ‰“æ–­çš„å¼‚æ­¥æ¸²æŸ“æ–¹å¼</p><p>ç”Ÿå‘½å‘¨æœŸå·¥ä½œæµ</p><p><strong>renderé˜¶æ®µåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å…è®¸è¢«æ‰“æ–­ï¼Œè€Œcommité˜¶æ®µæ€»æ˜¯åŒæ­¥æ‰§è¡Œçš„</strong></p><h2 id="react18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#react18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«"><span>React18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«</span></a></h2><h2 id="ä¸ºä»€ä¹ˆè¯´reactä¸­çš„propsæ˜¯åªè¯»çš„" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¯´reactä¸­çš„propsæ˜¯åªè¯»çš„"><span>ä¸ºä»€ä¹ˆè¯´Reactä¸­çš„propsæ˜¯åªè¯»çš„ï¼Ÿ</span></a></h2><p>Reactä¸­propsæ˜¯å•é¡¹æ•°æ®æµï¼Œçˆ¶ç»„ä»¶ä¼ è¿›å­ç»„ä»¶çš„æ•°æ®propsæ”¹å˜åï¼Œå­ç»„ä»¶ä¹Ÿä¼šè¿›è¡Œæ”¹å˜ï¼Œä½†æ˜¯å­ç»„ä»¶ä¸å¯æ›´æ”¹propsçš„å€¼ï¼Œè®©å˜åŒ–å˜å¾—éš¾ä»¥é¢„æµ‹</p><h2 id="react-fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#react-fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜"><span>React Fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></h2><p>GUIçº¿ç¨‹å’ŒJSçº¿ç¨‹æ˜¯äº’æ–¥çš„ï¼Œä¼šå¯¼è‡´</p><ul><li>GUIè´Ÿè´£ç»˜åˆ¶</li><li>JSæ‰§è¡Œè„šæœ¬</li></ul><h2 id="reactç»„ä»¶åŒ–" tabindex="-1"><a class="header-anchor" href="#reactç»„ä»¶åŒ–"><span>Reactç»„ä»¶åŒ–</span></a></h2><h2 id="redux" tabindex="-1"><a class="header-anchor" href="#redux"><span>Redux</span></a></h2><p>Reduxæ˜¯è´Ÿè´£çŠ¶æ€ç®¡ç†</p><ul><li>å•ä¸€æ•°æ®æº</li><li>state æ˜¯åªè¯»çš„</li><li>ä½¿ç”¨çº¯å‡½æ•°æ¥æ‰§è¡Œä¿®æ”¹</li></ul><h3 id="å¦‚ä½•ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨"><span>å¦‚ä½•ä½¿ç”¨</span></a></h3><ul><li>åˆ›å»ºä¸€ä¸ªstore</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span> <span class="token comment">// å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æ–¹æ³•</span></span>
<span class="line">  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºæ•°æ®çš„å…¬å…±å­˜å‚¨åŒºåŸŸï¼ˆç®¡ç†å‘˜ï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>state</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token comment">// è®¾ç½®é»˜è®¤å€¼</span></span>
<span class="line">  <span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// ä¹Ÿå°±æ˜¯reducer</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>action æ”¹å˜å†…éƒ¨çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯ dispatch ä¸€ä¸ª actionã€‚ è¿™äº› action å¯ä»¥è¢«åºåˆ—åŒ–ã€è®°å½•æˆ–å­˜å‚¨ï¼Œç„¶åå†é‡æ”¾ã€‚ ç”¨æˆ·æ´¾å‘action, dispatchç»™store - type ä»£è¡¨éœ€è¦è¢«æ‰§è¡Œçš„ action ç±»åˆ«</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;ADD_NUMBER&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">5</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¼‚æ­¥action</strong></p></li><li><p>reducer æ¥å—state, action, å¤„ç†ç›¸å…³æ•°æ®ï¼Œè¿”å›state reduceræ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸éœ€è¦ç›´æ¥ä¿®æ”¹state</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">  <span class="token keyword">function</span> <span class="token function">counterReducer</span><span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token string">&quot;counter/incremented&quot;</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> state<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token string">&quot;counter/decremented&quot;</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> state<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç›‘å¬stateçš„å˜åŒ–</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>Redux Toolkitæ˜¯æ¨èçš„ç¼–å†™Reduxé€»è¾‘çš„æ–¹æ³•</p><ul><li>é…ç½®redux store</li><li>åˆ›å»ºreducerå‡½æ•°å¹¶ä½¿ç”¨ä¸å¯æ›´æ”¹æ›´æ–°é€»è¾‘</li><li>ä¸€æ¬¡æ€§åˆ›å»ºçŠ¶æ€çš„æŸä¸ªç‰‡æ®µslice</li></ul><h2 id="react-è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#react-è·¯ç”±"><span>React è·¯ç”±</span></a></h2><h2 id="reactæ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#reactæ€§èƒ½ä¼˜åŒ–"><span>Reactæ€§èƒ½ä¼˜åŒ–</span></a></h2>`,24))])}const R=c(k,[["render",b],["__file","index.html.vue"]]),y=JSON.parse('{"path":"/interview/React/","title":"Reacté¢è¯•é¢˜","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"è°ˆè°ˆä½ å¯¹Reactçš„ç†è§£","slug":"è°ˆè°ˆä½ å¯¹reactçš„ç†è§£","link":"#è°ˆè°ˆä½ å¯¹reactçš„ç†è§£","children":[]},{"level":2,"title":"JSXè½¬æˆçœŸå®DOMçš„è¿‡ç¨‹","slug":"jsxè½¬æˆçœŸå®domçš„è¿‡ç¨‹","link":"#jsxè½¬æˆçœŸå®domçš„è¿‡ç¨‹","children":[]},{"level":2,"title":"React ç”Ÿå‘½å‘¨æœŸ","slug":"react-ç”Ÿå‘½å‘¨æœŸ","link":"#react-ç”Ÿå‘½å‘¨æœŸ","children":[]},{"level":2,"title":"è¯´è¯´ Real DOM å’Œ Virtual DOM çš„åŒºåˆ«ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ","slug":"è¯´è¯´-real-dom-å’Œ-virtual-dom-çš„åŒºåˆ«-ä¼˜ç¼ºç‚¹","link":"#è¯´è¯´-real-dom-å’Œ-virtual-dom-çš„åŒºåˆ«-ä¼˜ç¼ºç‚¹","children":[]},{"level":2,"title":"useRefå’ŒuseStateçš„åŒºåˆ«","slug":"userefå’Œusestateçš„åŒºåˆ«","link":"#userefå’Œusestateçš„åŒºåˆ«","children":[]},{"level":2,"title":"è¯´è¯´å¯¹Reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"è¯´è¯´å¯¹reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£-æœ‰ä»€ä¹ˆåŒºåˆ«","link":"#è¯´è¯´å¯¹reactä¸­ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„ç†è§£-æœ‰ä»€ä¹ˆåŒºåˆ«","children":[]},{"level":2,"title":"ç±»å¼ç»„ä»¶","slug":"ç±»å¼ç»„ä»¶","link":"#ç±»å¼ç»„ä»¶","children":[]},{"level":2,"title":"å‡½æ•°å¼ç»„ä»¶","slug":"å‡½æ•°å¼ç»„ä»¶","link":"#å‡½æ•°å¼ç»„ä»¶","children":[]},{"level":2,"title":"è¯´è¯´å¯¹React Hooksçš„ç†è§£ï¼Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ","slug":"è¯´è¯´å¯¹react-hooksçš„ç†è§£-è§£å†³äº†ä»€ä¹ˆé—®é¢˜","link":"#è¯´è¯´å¯¹react-hooksçš„ç†è§£-è§£å†³äº†ä»€ä¹ˆé—®é¢˜","children":[]},{"level":2,"title":"state å’Œ props æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ","slug":"state-å’Œ-props-æœ‰ä»€ä¹ˆåŒºåˆ«","link":"#state-å’Œ-props-æœ‰ä»€ä¹ˆåŒºåˆ«","children":[]},{"level":2,"title":"ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯Props","slug":"ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯props","link":"#ç»„ä»¶ä¸­å¦‚ä½•éªŒè¯props","children":[]},{"level":2,"title":"super","slug":"super","link":"#super","children":[]},{"level":2,"title":"setStateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼Ÿ","slug":"setstateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥","link":"#setstateæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥","children":[]},{"level":2,"title":"setStateä¸€å®šä¼šåˆå¹¶å—","slug":"setstateä¸€å®šä¼šåˆå¹¶å—","link":"#setstateä¸€å®šä¼šåˆå¹¶å—","children":[]},{"level":2,"title":"React é«˜é˜¶ç»„ä»¶","slug":"react-é«˜é˜¶ç»„ä»¶","link":"#react-é«˜é˜¶ç»„ä»¶","children":[]},{"level":2,"title":"React Hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›ï¼Ÿ","slug":"react-hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›","link":"#react-hooksçš„ä½¿ç”¨é™åˆ¶æœ‰å“ªäº›","children":[]},{"level":2,"title":"React fiberæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç”¨ï¼Ÿ","slug":"react-fiberæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨","link":"#react-fiberæ˜¯ä»€ä¹ˆ-æœ‰ä»€ä¹ˆç”¨","children":[]},{"level":2,"title":"React18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«","slug":"react18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«","link":"#react18å’Œä¹‹å‰ç‰ˆæœ¬çš„åŒºåˆ«","children":[]},{"level":2,"title":"ä¸ºä»€ä¹ˆè¯´Reactä¸­çš„propsæ˜¯åªè¯»çš„ï¼Ÿ","slug":"ä¸ºä»€ä¹ˆè¯´reactä¸­çš„propsæ˜¯åªè¯»çš„","link":"#ä¸ºä»€ä¹ˆè¯´reactä¸­çš„propsæ˜¯åªè¯»çš„","children":[]},{"level":2,"title":"React Fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ","slug":"react-fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜","link":"#react-fiberå®ƒçš„ç›®çš„æ˜¯è§£å†³ä»€ä¹ˆé—®é¢˜","children":[]},{"level":2,"title":"Reactç»„ä»¶åŒ–","slug":"reactç»„ä»¶åŒ–","link":"#reactç»„ä»¶åŒ–","children":[]},{"level":2,"title":"Redux","slug":"redux","link":"#redux","children":[{"level":3,"title":"å¦‚ä½•ä½¿ç”¨","slug":"å¦‚ä½•ä½¿ç”¨","link":"#å¦‚ä½•ä½¿ç”¨","children":[]}]},{"level":2,"title":"React è·¯ç”±","slug":"react-è·¯ç”±","link":"#react-è·¯ç”±","children":[]},{"level":2,"title":"Reactæ€§èƒ½ä¼˜åŒ–","slug":"reactæ€§èƒ½ä¼˜åŒ–","link":"#reactæ€§èƒ½ä¼˜åŒ–","children":[]}],"git":{"updatedTime":1738722167000,"contributors":[{"name":"LiHegui","username":"LiHegui","email":"1487647822@qq.com","commits":1,"url":"https://github.com/LiHegui"}]},"filePathRelative":"interview/React/index.md"}');export{R as comp,y as data};
